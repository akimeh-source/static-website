<!doctype html>
<html lang="en-GB">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#2B1B14" />

  <title>The Urban Chocolatier | Premium Desserts in Wembley</title>
  <meta name="description" content="Experience luxury desserts at The Urban Chocolatier in Wembley. Famous for our chocolate profiteroles, waffles, and signature creations. Open late, delivery available." />

  <!-- Social preview -->
  <meta property="og:title" content="The Urban Chocolatier | Premium Desserts in Wembley" />
  <meta property="og:description" content="Experience luxury desserts at The Urban Chocolatier. Famous for our chocolate profiteroles and signature creations." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://cdn0030.qrcodechimp.com/qr/PROD/65bba3a287c5b54d253ab6ae/fm/30ebc63f-976c-4ab7-a733-2d221e3ec261_m.jpeg" />
  <meta property="og:url" content="https://ucwembley.2--y.com/" />
  <meta property="og:site_name" content="The Urban Chocolatier" />
  <meta name="twitter:card" content="summary_large_image" />

  <link rel="icon" href="https://cdn0030.qrcodechimp.com/qr/PROD/65bba3a287c5b54d253ab6ae/fm/30ebc63f-976c-4ab7-a733-2d221e3ec261.jpeg?t=1708449747" />

  <!-- Performance -->
  <link rel="preconnect" href="https://cdn0030.qrcodechimp.com" crossorigin>
  <link rel="preload" as="image" href="https://cdn0030.qrcodechimp.com/qr/PROD/65bba3a287c5b54d253ab6ae/fm/30ebc63f-976c-4ab7-a733-2d221e3ec261_m.jpeg" />

  <!-- Premium headings font (headings only) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700;800&display=swap" rel="stylesheet">

  <!-- Your exact Maps URL -->
  <script>
    window.UC_MAPS_URL = "https://www.google.com/maps/place/The+Urban+Chocolatier/@51.5534948,-0.2950961,17z/data=!3m1!4b1!4m6!3m5!1s0x4876123271f2f00f:0x3af8ee62528b4453!8m2!3d51.5534915!4d-0.2925212!16s%2Fg%2F11f_j32_c8?entry=ttu";
    window.UC_PHONE_TEL = "+442070181150";
    window.UC_MENU_URL  = "https://drive.google.com/file/d/1cYUIPV2PICYYkEvBJx7aYm1aqC_Q8vsA/view?usp=sharing";
    window.UC_ORDER_URL = "https://order.storekit.com/the-urban-chocolatier-wembley/menu";
    window.UC_REVIEW_URL = "https://g.page/r/CVNEi1Ji7vg6EB0/review";
    window.UC_INSTAGRAM_URL = "https://www.instagram.com/theurbanchocolatier";
    window.UC_WEBSITE_URL = "https://urbanchocolatier.com/";
  </script>

  <!-- Structured data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Restaurant",
    "name": "The Urban Chocolatier",
    "image": "https://cdn0030.qrcodechimp.com/qr/PROD/65bba3a287c5b54d253ab6ae/fm/30ebc63f-976c-4ab7-a733-2d221e3ec261_m.jpeg",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "393 High Rd",
      "addressLocality": "Wembley",
      "postalCode": "HA9 6AA",
      "addressCountry": "GB"
    },
    "geo": {
      "@type": "GeoCoordinates",
      "latitude": 51.5534915,
      "longitude": -0.2925212
    },
    "url": "https://urbanchocolatier.com/",
    "telephone": "+442070181150",
    "servesCuisine": "Desserts",
    "priceRange": "££",
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.6",
      "reviewCount": "1997"
    },
    "openingHoursSpecification": [
      {"@type": "OpeningHoursSpecification", "dayOfWeek": "Sunday", "opens": "12:00", "closes": "01:00"},
      {"@type": "OpeningHoursSpecification", "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday"], "opens": "13:00", "closes": "01:00"},
      {"@type": "OpeningHoursSpecification", "dayOfWeek": "Friday", "opens": "13:00", "closes": "02:00"},
      {"@type": "OpeningHoursSpecification", "dayOfWeek": "Saturday", "opens": "12:00", "closes": "02:00"}
    ]
  }
  </script>

  <style>
    :root{
      --bg-1:#FFF3F3;
      --bg-2:#F6E9FF;
      --bg-3:#FFE7D9;

      --ink:#1a120f;
      --muted:rgba(26,18,15,.68);
      --surface:rgba(255,255,255,.78);
      --stroke:rgba(26,18,15,.10);

      --accent:#7E3AA6;
      --accent-2:#5f2a81;
      --choc:#2B1B14;

      --radius-1:18px;
      --radius-2:22px;
      --radius-pill:999px;

      --shadow-1: 0 14px 30px rgba(0,0,0,.12);
      --shadow-2: 0 10px 24px rgba(0,0,0,.10);

      --max: 420px;
      --safe-bottom: max(env(safe-area-inset-bottom, 0px), 10px);
      --sticky-h: 74px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
      color: var(--ink);
      display:flex;
      justify-content:center;
      padding: 18px 14px calc(18px + var(--safe-bottom));
      background:
        radial-gradient(900px 600px at 18% 10%, rgba(255,255,255,.55), transparent 60%),
        radial-gradient(700px 500px at 90% 18%, rgba(255,255,255,.30), transparent 55%),
        radial-gradient(900px 700px at 78% 40%, rgba(255,255,255,.20), transparent 60%),
        linear-gradient(180deg, var(--bg-1) 0%, var(--bg-2) 34%, var(--bg-3) 64%, #F3E7FF 100%);
    }

    /* So sticky bar never blocks content */
    .wrap{
      width:100%;
      max-width: var(--max);
      padding-bottom: calc(var(--sticky-h) + 28px + var(--safe-bottom));
    }

    :focus-visible{
      outline: 3px solid rgba(126,58,166,.55);
      outline-offset: 3px;
      border-radius: 12px;
    }

    .card{
      background: var(--surface);
      backdrop-filter: blur(10px);
      border: 1px solid var(--stroke);
      border-radius: var(--radius-2);
      box-shadow: var(--shadow-1);
      overflow:hidden;
    }

    /* Hero */
    .hero{
      position:relative;
      height: 250px;
      background: #000;
      cursor: zoom-in;
      display:block;
      text-decoration:none;
      color: inherit;
    }
    .hero img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      transform: scale(1.01);
    }
    .hero::after{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(180deg, rgba(0,0,0,.10) 0%, rgba(0,0,0,.30) 45%, rgba(43,27,20,.78) 100%);
      pointer-events:none;
    }
    .hero-content{
      position:absolute;
      left: 16px;
      right: 16px;
      bottom: 14px;
      z-index:2;
      color: #fff;
    }
    .brand{
      margin:0;
      font-family: "Playfair Display", serif;
      font-size: 28px;
      font-weight: 800;
      letter-spacing: .2px;
      line-height: 1.06;
      text-shadow: 0 10px 24px rgba(0,0,0,.25);
    }
    .subline{
      margin: 6px 0 0;
      font-size: 13px;
      color: rgba(255,255,255,.88);
      font-weight: 650;
    }

    .chips{
      margin-top: 10px;
      display:flex;
      flex-wrap:wrap;
      gap: 8px;
      align-items:center;
    }
    .chip{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      padding: 8px 10px;
      border-radius: var(--radius-pill);
      background: rgba(0,0,0,.28);
      border: 1px solid rgba(255,255,255,.20);
      color: rgba(255,255,255,.95);
      font-size: 12.5px;
      font-weight: 650;
      text-decoration:none;
      -webkit-tap-highlight-color: transparent;
      white-space:nowrap;
    }
    .chip svg{ width: 16px; height: 16px; fill: rgba(255,255,255,.95); }
    .chip-dot{
      width: 7px; height: 7px;
      border-radius: 999px;
      background: #9be39b;
      box-shadow: 0 0 0 3px rgba(155,227,155,.18);
    }
    .chip-dot.closed{ background:#ffb3b3; box-shadow: 0 0 0 3px rgba(255,179,179,.18); }

    .body{
      padding: 14px;
      display:flex;
      flex-direction:column;
      gap: 12px;

      /* ensures bottom content can scroll above sticky */
      padding-bottom: calc(var(--sticky-h) + 28px + var(--safe-bottom));
    }

    /* CTA row */
    .cta-row{
      display:grid;
      grid-template-columns: 1fr;
      gap: 10px;
    }
    .cta-primary{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      padding: 14px 14px;
      border-radius: 18px;
      background: linear-gradient(135deg, var(--accent) 0%, #A24BE0 55%, #D27BFF 120%);
      color: #fff;
      text-decoration:none;
      border: 1px solid rgba(255,255,255,.18);
      box-shadow: 0 18px 40px rgba(126,58,166,.22);
      -webkit-tap-highlight-color: transparent;
    }
    .cta-secondary{
      display:flex;
      gap: 10px;
      flex-wrap:wrap;
    }
    .cta-mini{
      flex: 1 1 160px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap: 10px;
      padding: 12px 12px;
      border-radius: 16px;
      background: rgba(255,255,255,.70);
      border: 1px solid var(--stroke);
      box-shadow: var(--shadow-2);
      text-decoration:none;
      color: var(--ink);
      font-weight: 900;
      -webkit-tap-highlight-color: transparent;
    }
    .cta-mini svg{ width: 18px; height: 18px; fill: rgba(95,42,129,.95); }
    .cta-left{ display:flex; align-items:center; gap: 12px; min-width:0; }
    .cta-icon{
      width: 44px; height: 44px;
      border-radius: 14px;
      background: rgba(255,255,255,.16);
      border: 1px solid rgba(255,255,255,.18);
      display:grid; place-items:center;
      flex: 0 0 auto;
    }
    .cta-icon svg{ width: 22px; height: 22px; fill:#fff; }
    .cta-text{ min-width:0; }
    .cta-title{ font-weight: 950; font-size: 16px; letter-spacing:.1px; }
    .cta-sub{ margin-top: 3px; font-size: 12.5px; color: rgba(255,255,255,.88); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .badges{
      margin-top: 8px;
      display:flex;
      gap: 8px;
      flex-wrap:wrap;
    }
    .badge{
      display:inline-flex;
      gap: 8px;
      align-items:center;
      padding: 7px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.16);
      border: 1px solid rgba(255,255,255,.18);
      font-size: 12px;
      color: rgba(255,255,255,.92);
      font-weight: 700;
    }
    .badge svg{ width: 16px; height: 16px; fill: rgba(255,255,255,.92); }

    /* Info card */
    .info{
      background: rgba(255,255,255,.72);
      border: 1px solid var(--stroke);
      border-radius: var(--radius-1);
      padding: 12px;
      box-shadow: var(--shadow-2);
    }
    .info-row{
      display:flex;
      justify-content:space-between;
      gap: 12px;
      align-items:flex-start;
      flex-wrap:wrap;
    }
    .info-title{ font-weight: 950; font-size: 14px; letter-spacing:.1px; }
    .info-muted{ margin-top: 4px; font-size: 12.5px; color: var(--muted); line-height: 1.35; }

    .tiny-link{
      margin-top: 8px;
      font-size: 12.5px;
      color: rgba(95,42,129,.95);
      font-weight: 800;
      text-decoration: underline;
      text-underline-offset: 3px;
    }

    details.hours{ margin-top: 10px; border-top: 1px solid rgba(26,18,15,.08); padding-top: 10px; }
    details.hours summary{
      list-style:none;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      font-weight: 900;
      font-size: 13.5px;
      color: var(--accent-2);
      -webkit-tap-highlight-color: transparent;
    }
    details.hours summary::-webkit-details-marker{ display:none; }
    .hours-chevron{ width: 18px; height: 18px; fill: rgba(95,42,129,.9); transition: transform .2s ease; }
    details[open] .hours-chevron{ transform: rotate(90deg); }

    .hours-list{ margin-top: 10px; display:flex; flex-direction:column; gap: 6px; }
    .hours-item{
      display:flex;
      justify-content:space-between;
      gap: 10px;
      padding: 8px 10px;
      border-radius: 12px;
      background: rgba(26,18,15,.03);
      border: 1px solid rgba(26,18,15,.06);
      font-size: 12.5px;
    }
    .hours-item .day{ font-weight: 800; }
    .hours-item .time{ color: var(--muted); }
    .hours-item.today{
      background: rgba(126,58,166,.08);
      border-color: rgba(126,58,166,.18);
    }
    .hours-item.today .time{ color: rgba(26,18,15,.82); font-weight: 700; }

    /* Popular strip */
    .popular{
      background: rgba(255,255,255,.72);
      border: 1px solid var(--stroke);
      border-radius: var(--radius-2);
      box-shadow: var(--shadow-2);
      padding: 14px;
    }
    .popular h2{
      margin:0 0 10px 0;
      font-family: "Playfair Display", serif;
      font-size: 16px;
      font-weight: 800;
      letter-spacing: .2px;
    }
    .popular-row{
      display:flex;
      gap: 10px;
      overflow-x:auto;
      padding-bottom: 6px;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
    }
    .pop{
      flex: 0 0 auto;
      scroll-snap-align: start;
      display:flex;
      align-items:center;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 999px;
      background: rgba(126,58,166,.10);
      border: 1px solid rgba(126,58,166,.18);
      text-decoration:none;
      color: rgba(26,18,15,.92);
      font-weight: 950;
      font-size: 13px;
      -webkit-tap-highlight-color: transparent;
      white-space:nowrap;
    }
    .pop svg{ width: 18px; height: 18px; fill: rgba(95,42,129,.95); }

    /* Links cards */
    .links{ display:flex; flex-direction:column; gap: 10px; }
    .link-card{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      padding: 12px 12px;
      border-radius: 18px;
      background: rgba(255,255,255,.72);
      border: 1px solid var(--stroke);
      box-shadow: var(--shadow-2);
      text-decoration:none;
      color: var(--ink);
      -webkit-tap-highlight-color: transparent;
    }
    .lc-left{ display:flex; align-items:center; gap: 12px; min-width:0; }
    .lc-icon{
      width: 42px; height: 42px;
      border-radius: 14px;
      background: rgba(126,58,166,.10);
      border: 1px solid rgba(126,58,166,.18);
      display:grid; place-items:center;
      flex: 0 0 auto;
    }
    .lc-icon svg{ width: 20px; height: 20px; fill: var(--accent-2); }
    .lc-text{ min-width:0; }
    .lc-title{ font-weight: 950; font-size: 14.5px; letter-spacing:.1px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .lc-sub{ margin-top: 3px; font-size: 12.5px; color: var(--muted); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .lc-chevron{ width: 20px; height: 20px; fill: rgba(26,18,15,.45); }

    /* Reviews -> replaced with honest Google rating block (no fake review text) */
    .rating-block{
      background: rgba(255,255,255,.74);
      border: 1px solid var(--stroke);
      border-radius: var(--radius-2);
      box-shadow: var(--shadow-2);
      padding: 14px;
    }
    .rating-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      margin-bottom: 10px;
    }
    .rating-head h2{
      margin:0;
      font-family: "Playfair Display", serif;
      font-size: 16px;
      font-weight: 800;
      letter-spacing: .2px;
    }
    .rating-pill{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      padding: 8px 10px;
      border-radius: 999px;
      background: rgba(26,18,15,.04);
      border: 1px solid rgba(26,18,15,.08);
      font-weight: 950;
      font-size: 13px;
      color: rgba(26,18,15,.90);
      white-space:nowrap;
    }
    .rating-pill svg{ width: 16px; height: 16px; fill: rgba(26,18,15,.80); }
    .rating-actions{
      display:flex;
      gap: 10px;
      flex-wrap:wrap;
    }
    .btn{
      flex: 1 1 160px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap: 10px;
      padding: 12px 12px;
      border-radius: 16px;
      background: rgba(126,58,166,.10);
      border: 1px solid rgba(126,58,166,.18);
      text-decoration:none;
      color: rgba(26,18,15,.92);
      font-weight: 950;
      -webkit-tap-highlight-color: transparent;
      cursor:pointer;
    }
    .btn svg{ width: 18px; height: 18px; fill: rgba(95,42,129,.95); }
    .btn.secondary{
      background: rgba(255,255,255,.70);
      border-color: rgba(26,18,15,.10);
    }

    /* Signature carousel (lightbox on click) */
    .signature{
      background: rgba(255,255,255,.70);
      border: 1px solid var(--stroke);
      border-radius: var(--radius-2);
      box-shadow: var(--shadow-2);
      padding: 14px;
    }
    .signature h2{
      margin: 0 0 10px 0;
      font-family: "Playfair Display", serif;
      font-size: 16px;
      font-weight: 800;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
    }
    .hint{ font-size: 12px; font-weight: 800; color: rgba(26,18,15,.55); }

    .sig-track{
      display:flex;
      gap: 12px;
      overflow-x:auto;
      padding-bottom: 6px;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
    }
    .sig{
      width: 168px;
      flex: 0 0 auto;
      scroll-snap-align: start;
      text-decoration:none;
      color: inherit;
      -webkit-tap-highlight-color: transparent;
    }
    .sig-img{
      border-radius: 18px;
      overflow:hidden;
      border: 1px solid rgba(26,18,15,.10);
      background: #111;
      box-shadow: 0 10px 18px rgba(0,0,0,.10);
    }
    .sig-img img{
      width:100%;
      height: 168px;
      object-fit:cover;
      display:block;
      transform: scale(1.01);
      filter: contrast(1.03) saturate(1.05);
      transition: transform .22s ease, filter .22s ease;
    }
    .sig:active .sig-img img{ transform: scale(1.02); }
    .sig-cap{
      margin-top: 8px;
      font-size: 12.8px;
      font-weight: 950;
      color: rgba(26,18,15,.86);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .note{
      margin-top: 8px;
      min-height: 18px;
      text-align:center;
      font-size: 12.5px;
      color: rgba(26,18,15,.70);
    }

    /* Sticky bottom actions */
    .sticky{
      position: fixed;
      left: 50%;
      transform: translateX(-50%);
      bottom: calc(12px + var(--safe-bottom));
      width: calc(100% - 28px);
      max-width: var(--max);
      height: var(--sticky-h);
      z-index: 30;
      transition: transform .22s ease, opacity .22s ease;
    }
    .sticky.hidden{
      transform: translateX(-50%) translateY(calc(var(--sticky-h) + 24px));
      opacity: 0;
      pointer-events: none;
    }
    .sticky-inner{
      height: 100%;
      display:grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 10px;
      padding: 10px;
      border-radius: 22px;
      background: rgba(255,255,255,.62);
      backdrop-filter: blur(16px);
      border: 1px solid rgba(26,18,15,.12);
      box-shadow: 0 -10px 30px rgba(0,0,0,.08), 0 18px 40px rgba(0,0,0,.12);
    }
    .sbtn{
      display:flex;
      align-items:center;
      justify-content:center;
      gap: 8px;
      border-radius: 16px;
      background: rgba(126,58,166,.10);
      border: 1px solid rgba(126,58,166,.18);
      color: rgba(26,18,15,.92);
      font-weight: 950;
      font-size: 13px;
      text-decoration:none;
      cursor:pointer;
      -webkit-tap-highlight-color: transparent;
    }
    .sbtn.secondary{
      background: rgba(255,255,255,.70);
      border-color: rgba(26,18,15,.10);
    }
    .sbtn svg{ width: 18px; height: 18px; fill: rgba(95,42,129,.95); }

    /* Lightbox */
    .lightbox{
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      padding: 18px;
      background: rgba(0,0,0,.66);
      backdrop-filter: blur(6px);
      z-index: 999;
    }
    .lightbox.open{ display:flex; }

    .lb-close{
      position: absolute;
      top: calc(12px + env(safe-area-inset-top, 0px));
      right: 12px;
      width: 44px;
      height: 44px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.22);
      background: rgba(0,0,0,.35);
      color: #fff;
      font-size: 28px;
      line-height: 1;
      cursor: pointer;
      -webkit-tap-highlight-color: transparent;
    }
    .lb-figure{ margin: 0; width: min(92vw, 520px); }
    .lb-figure img{
      width: 100%;
      height: auto;
      display: block;
      border-radius: 18px;
      box-shadow: 0 22px 70px rgba(0,0,0,.38);
      background: #111;
      transform: translateY(10px) scale(.985);
      animation: lbPop .18s ease-out forwards;
    }
    @keyframes lbPop{ to { transform: translateY(0) scale(1); } }
    .lb-cap{
      margin-top: 10px;
      text-align: center;
      color: rgba(255,255,255,.92);
      font-size: 13px;
      font-weight: 650;
    }

    body.lb-open .sticky{ display:none; }

    /* Consent */
    .consent{
      position: fixed;
      left: 50%;
      transform: translateX(-50%);
      bottom: calc(12px + var(--safe-bottom));
      width: calc(100% - 28px);
      max-width: var(--max);
      z-index: 40;
      display: none;
    }
    .consent.show{ display:block; }
    .consent-inner{
      background: rgba(255,255,255,.72);
      backdrop-filter: blur(16px);
      border: 1px solid rgba(26,18,15,.12);
      border-radius: 22px;
      box-shadow: 0 -10px 30px rgba(0,0,0,.08), 0 18px 40px rgba(0,0,0,.12);
      padding: 12px;
    }
    .consent-title{
      margin: 0;
      font-weight: 950;
      font-size: 13.5px;
    }
    .consent-text{
      margin: 6px 0 10px;
      font-size: 12.5px;
      color: rgba(26,18,15,.70);
      line-height: 1.35;
    }
    .consent-actions{
      display:flex;
      gap: 10px;
      flex-wrap:wrap;
    }

    /* Small screens */
    @media (max-width: 360px){
      :root{ --sticky-h: 68px; }
      .brand{ font-size: 26px; }
      .body{ padding: 12px; padding-bottom: calc(var(--sticky-h) + 28px + var(--safe-bottom)); }
      .sticky-inner{ padding: 8px; gap: 8px; }
      .sbtn{ font-size: 12.5px; }
    }
  </style>
</head>

<body>
  <main class="wrap">
    <section class="card" aria-label="The Urban Chocolatier">

      <!-- Hero: tap to open lightbox -->
      <a class="hero js-lightbox" href="https://cdn0030.qrcodechimp.com/qr/PROD/65bba3a287c5b54d253ab6ae/fm/30ebc63f-976c-4ab7-a733-2d221e3ec261_m.jpeg" aria-label="View hero image">
        <img
          src="https://cdn0030.qrcodechimp.com/qr/PROD/65bba3a287c5b54d253ab6ae/fm/30ebc63f-976c-4ab7-a733-2d221e3ec261_m.jpeg"
          alt="The Urban Chocolatier desserts"
          width="840"
          height="500"
          loading="eager"
          fetchpriority="high"
        />
        <div class="hero-content">
          <h1 class="brand">The Urban Chocolatier</h1>
          <p class="subline">393 High Rd, Wembley HA9 6AA</p>

          <div class="chips" aria-label="Key details">
            <span class="chip" aria-label="Open status" id="statusChip">
              <span class="chip-dot" id="statusDot"></span>
              <span id="statusText">Checking…</span>
            </span>

            <span class="chip" aria-label="Rating">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 17.3l-6.2 3.7 1.8-7.1L2 9.2l7.3-.6L12 2l2.7 6.6 7.3.6-5.6 4.7 1.8 7.1z"/></svg>
              4.6 (1,997)
            </span>

            <a class="chip" id="heroInsta" href="#" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4c0 3.2-2.6 5.8-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8C2 4.6 4.6 2 7.8 2m-.2 2C5.6 4 4 5.6 4 7.6v8.8C4 18.4 5.6 20 7.6 20h8.8c2 0 3.6-1.6 3.6-3.6V7.6C20 5.6 18.4 4 16.4 4H7.6m9.65 1.5c.6 0 1.1.5 1.1 1.1s-.5 1.1-1.1 1.1-1.1-.5-1.1-1.1.5-1.1 1.1-1.1M12 7c2.8 0 5 2.2 5 5s-2.2 5-5 5-5-2.2-5-5 2.2-5 5-5m0 2c-1.7 0-3 1.3-3 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-3z"/></svg>
              Instagram
            </a>
          </div>
        </div>
      </a>

      <div class="body">
        <!-- Primary CTA + secondary CTA row -->
        <div class="cta-row" aria-label="Primary actions">
          <a class="cta-primary" id="orderNow" href="#" target="_blank" rel="noopener noreferrer">
            <div class="cta-left">
              <div class="cta-icon" aria-hidden="true">
                <svg viewBox="0 0 24 24"><path d="M7 7V6a5 5 0 0 1 10 0v1h4l-1.2 14.2A2 2 0 0 1 17.8 23H6.2a2 2 0 0 1-2-1.8L3 7h4zm2 0h6V6a3 3 0 0 0-6 0v1z"/></svg>
              </div>
              <div class="cta-text">
                <div class="cta-title">Order now</div>
                <div class="cta-sub">Delivery or collection • Open late</div>
                <div class="badges" aria-label="Service badges">
                  <span class="badge">
                    <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M3 7h13v8H3V7zm14 3h2.2l1.8 2v3H17v-5zM6 18a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm12 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/></svg>
                    Delivery
                  </span>
                  <span class="badge">
                    <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7 7V6a5 5 0 0 1 10 0v1h2v15H5V7h2zm2 0h6V6a3 3 0 0 0-6 0v1z"/></svg>
                    Collection
                  </span>
                  <span class="badge">
                    <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm1 11h5v-2h-4V7h-2v6z"/></svg>
                    Open late
                  </span>
                </div>
              </div>
            </div>
            <svg viewBox="0 0 24 24" aria-hidden="true" style="width:22px;height:22px;opacity:.95;"><path fill="white" d="M9 18l6-6-6-6"/></svg>
          </a>

          <div class="cta-secondary" aria-label="More actions">
            <a class="cta-mini" id="viewMenu" href="#" target="_blank" rel="noopener noreferrer">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6 2h9l5 5v15a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8 1v5h5"/></svg>
              View menu
            </a>
            <a class="cta-mini" href="tel:+442070181150" id="callReserve">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6.6 10.8c1.6 3.1 3.5 5 6.6 6.6l2.2-2.2c.3-.3.7-.4 1.1-.3 1.2.4 2.5.6 3.9.6.6 0 1 .4 1 1V20c0 .6-.4 1-1 1C10.3 21 3 13.7 3 4c0-.6.4-1 1-1h3.4c.6 0 1 .4 1 1 0 1.3.2 2.6.6 3.9.1.4 0 .8-.3 1.1l-2.1 2.8z"/></svg>
              Call to reserve
            </a>
          </div>
        </div>

        <!-- Location + hours -->
        <div class="info" aria-label="Location and opening hours">
          <div class="info-row">
            <div>
              <div class="info-title">Visit us in Wembley</div>
              <div class="info-muted">
                <a class="maps-link" href="#" target="_blank" rel="noopener noreferrer" style="color:inherit;text-decoration:underline;text-underline-offset:3px;">
                  393 High Rd, Wembley HA9 6AA
                </a>
              </div>
            </div>
            <div>
              <div class="info-title">Call</div>
              <div class="info-muted">
                <a href="tel:+442070181150" style="color:inherit;text-decoration:underline;text-underline-offset:3px;">
                  020 7018 1150
                </a>
              </div>
            </div>
          </div>

          <a class="tiny-link" id="mapsFallback" href="#" target="_blank" rel="noopener noreferrer">
            If Maps doesn’t open, tap here
          </a>

          <details class="hours" id="hoursDetails">
            <summary>
              Opening hours
              <svg class="hours-chevron" viewBox="0 0 24 24" aria-hidden="true"><path d="M9 18l6-6-6-6"/></svg>
            </summary>

            <div class="hours-list" id="hoursList">
              <div class="hours-item" data-day="0" data-open="12:00" data-close="01:00"><span class="day">Sunday</span><span class="time">12pm–1am</span></div>
              <div class="hours-item" data-day="1" data-open="13:00" data-close="01:00"><span class="day">Monday</span><span class="time">1pm–1am</span></div>
              <div class="hours-item" data-day="2" data-open="13:00" data-close="01:00"><span class="day">Tuesday</span><span class="time">1pm–1am</span></div>
              <div class="hours-item" data-day="3" data-open="13:00" data-close="01:00"><span class="day">Wednesday</span><span class="time">1pm–1am</span></div>
              <div class="hours-item" data-day="4" data-open="13:00" data-close="01:00"><span class="day">Thursday</span><span class="time">1pm–1am</span></div>
              <div class="hours-item" data-day="5" data-open="13:00" data-close="02:00"><span class="day">Friday</span><span class="time">1pm–2am</span></div>
              <div class="hours-item" data-day="6" data-open="12:00" data-close="02:00"><span class="day">Saturday</span><span class="time">12pm–2am</span></div>
            </div>
          </details>
        </div>

        <!-- Popular items -->
        <section class="popular" aria-label="Popular items">
          <h2>Popular now</h2>
          <div class="popular-row">
            <a class="pop" href="#" id="popProf">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2c2.8 0 5 2.2 5 5 0 1.4-.6 2.7-1.5 3.6V13h-7V10.6C7.6 9.7 7 8.4 7 7c0-2.8 2.2-5 5-5zM6 15h12v2H6v-2zm1 4h10v3H7v-3z"/></svg>
              Profiteroles
            </a>
            <a class="pop" href="#" id="popWaffles">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M4 4h16v16H4V4zm3 3v2h2V7H7zm4 0v2h2V7h-2zm4 0v2h2V7h-2zM7 11v2h2v-2H7zm4 0v2h2v-2h-2zm4 0v2h2v-2h-2zM7 15v2h2v-2H7zm4 0v2h2v-2h-2zm4 0v2h2v-2h-2z"/></svg>
              Waffles
            </a>
            <a class="pop" href="#" id="popMilkshakes">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7 2h10l-1 5H8L7 2zm1 7h8l-1 13H9L8 9zm3 2v2h2v-2h-2z"/></svg>
              Milkshakes
            </a>
            <a class="pop" href="#" id="popCrepes">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2c5 0 9 4 9 9v1H3v-1c0-5 4-9 9-9zm-9 12h18v2c0 3.3-2.7 6-6 6H9c-3.3 0-6-2.7-6-6v-2z"/></svg>
              Crepes
            </a>
          </div>
        </section>

        <!-- Quick links -->
        <nav class="links" aria-label="Quick links">
          <a class="link-card" id="linkMenu" href="#" target="_blank" rel="noopener noreferrer">
            <div class="lc-left">
              <div class="lc-icon" aria-hidden="true">
                <svg viewBox="0 0 24 24"><path d="M6 2h9l5 5v15a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8 1v5h5"/></svg>
              </div>
              <div class="lc-text">
                <div class="lc-title">View menu</div>
                <div class="lc-sub">Browse our desserts and drinks</div>
              </div>
            </div>
            <svg class="lc-chevron" viewBox="0 0 24 24" aria-hidden="true"><path d="M9 18l6-6-6-6"/></svg>
          </a>

          <a class="link-card" id="linkReview" href="#" target="_blank" rel="noopener noreferrer">
            <div class="lc-left">
              <div class="lc-icon" aria-hidden="true">
                <svg viewBox="0 0 24 24"><path d="M12 17.3l-6.2 3.7 1.8-7.1L2 9.2l7.3-.6L12 2l2.7 6.6 7.3.6-5.6 4.7 1.8 7.1z"/></svg>
              </div>
              <div class="lc-text">
                <div class="lc-title">Leave a review</div>
                <div class="lc-sub">We’d love your feedback</div>
              </div>
            </div>
            <svg class="lc-chevron" viewBox="0 0 24 24" aria-hidden="true"><path d="M9 18l6-6-6-6"/></svg>
          </a>

          <a class="link-card" id="linkWebsite" href="#" target="_blank" rel="noopener noreferrer">
            <div class="lc-left">
              <div class="lc-icon" aria-hidden="true">
                <svg viewBox="0 0 24 24"><path d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm7.9 9H15a15 15 0 0 0-1.2-6 8 8 0 0 1 6.1 6zM12 4c1.2 1.6 2 4 2.3 7H9.7C10 8 10.8 5.6 12 4zM4.1 11A8 8 0 0 1 10.2 5a15 15 0 0 0-1.2 6H4.1zm0 2H9a15 15 0 0 0 1.2 6 8 8 0 0 1-6.1-6zm7.9 7c-1.2-1.6-2-4-2.3-7h4.6c-.3 3-1.1 5.4-2.3 7zm1.8-.9a15 15 0 0 0 1.2-6h4.8a8 8 0 0 1-6 6z"/></svg>
              </div>
              <div class="lc-text">
                <div class="lc-title">Visit our website</div>
                <div class="lc-sub">Explore signature creations</div>
              </div>
            </div>
            <svg class="lc-chevron" viewBox="0 0 24 24" aria-hidden="true"><path d="M9 18l6-6-6-6"/></svg>
          </a>

          <a class="link-card maps-link" href="#" target="_blank" rel="noopener noreferrer">
            <div class="lc-left">
              <div class="lc-icon" aria-hidden="true">
                <svg viewBox="0 0 24 24"><path d="M12 2c-3.9 0-7 3.1-7 7 0 5.3 7 13 7 13s7-7.7 7-13c0-3.9-3.1-7-7-7zm0 9.5c-1.4 0-2.5-1.1-2.5-2.5S10.6 6.5 12 6.5s2.5 1.1 2.5 2.5S13.4 11.5 12 11.5z"/></svg>
              </div>
              <div class="lc-text">
                <div class="lc-title">Get directions</div>
                <div class="lc-sub">Open in Google Maps</div>
              </div>
            </div>
            <svg class="lc-chevron" viewBox="0 0 24 24" aria-hidden="true"><path d="M9 18l6-6-6-6"/></svg>
          </a>
        </nav>

        <!-- Honest rating block -->
        <section class="rating-block" aria-label="Google rating">
          <div class="rating-head">
            <h2>Google rating</h2>
            <span class="rating-pill" aria-label="Rating 4.6 from 1997 reviews">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 17.3l-6.2 3.7 1.8-7.1L2 9.2l7.3-.6L12 2l2.7 6.6 7.3.6-5.6 4.7 1.8 7.1z"/></svg>
              4.6 • 1,997
            </span>
          </div>
          <div class="rating-actions">
            <a class="btn secondary" id="btnReadReviews" href="#" target="_blank" rel="noopener noreferrer">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M21 6h-2v9H7l-4 4V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2zm-4 2H7v2h10V8zm0 4H7v2h10v-2z"/></svg>
              Read reviews
            </a>
            <a class="btn" id="btnLeaveReview" href="#" target="_blank" rel="noopener noreferrer">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 17.3l-6.2 3.7 1.8-7.1L2 9.2l7.3-.6L12 2l2.7 6.6 7.3.6-5.6 4.7 1.8 7.1z"/></svg>
              Leave a review
            </a>
          </div>
        </section>

        <!-- Signature gallery -->
        <section class="signature" aria-label="Our signature desserts">
          <h2>Our signature <span class="hint">Swipe</span></h2>
          <div class="sig-track" role="list">
            <a class="sig js-lightbox" role="listitem" href="https://cdn0030.qrcodechimp.com/qr/PROD/65bba3a287c5b54d253ab6ae/fm/chocolate-profiteroles-365x365_1.png" rel="noopener noreferrer">
              <div class="sig-img"><img src="https://cdn0030.qrcodechimp.com/qr/PROD/65bba3a287c5b54d253ab6ae/fm/chocolate-profiteroles-365x365_1.png" alt="Chocolate profiteroles" width="365" height="365" loading="lazy"></div>
              <div class="sig-cap">Chocolate profiteroles</div>
            </a>
            <a class="sig js-lightbox" role="listitem" href="https://cdn0030.qrcodechimp.com/qr/PROD/65bba3a287c5b54d253ab6ae/fm/6.png" rel="noopener noreferrer">
              <div class="sig-img"><img src="https://cdn0030.qrcodechimp.com/qr/PROD/65bba3a287c5b54d253ab6ae/fm/6.png" alt="Signature creation" width="365" height="365" loading="lazy"></div>
              <div class="sig-cap">Signature creation</div>
            </a>
            <a class="sig js-lightbox" role="listitem" href="https://cdn0030.qrcodechimp.com/qr/PROD/65bba3a287c5b54d253ab6ae/fm/3.png" rel="noopener noreferrer">
              <div class="sig-img"><img src="https://cdn0030.qrcodechimp.com/qr/PROD/65bba3a287c5b54d253ab6ae/fm/3.png" alt="Waffles & drizzle" width="365" height="365" loading="lazy"></div>
              <div class="sig-cap">Waffles & drizzle</div>
            </a>
            <a class="sig js-lightbox" role="listitem" href="https://cdn0030.qrcodechimp.com/qr/PROD/65bba3a287c5b54d253ab6ae/fm/2.png" rel="noopener noreferrer">
              <div class="sig-img"><img src="https://cdn0030.qrcodechimp.com/qr/PROD/65bba3a287c5b54d253ab6ae/fm/2.png" alt="Chocolate delight" width="365" height="365" loading="lazy"></div>
              <div class="sig-cap">Chocolate delight</div>
            </a>
          </div>
        </section>

        <div class="note" id="note" aria-live="polite"></div>
      </div>
    </section>
  </main>

  <!-- Sticky bottom actions -->
  <div class="sticky" id="stickyBar" aria-label="Quick actions">
    <div class="sticky-inner">
      <a class="sbtn" id="stickyCall" href="tel:+442070181150" aria-label="Call">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6.6 10.8c1.6 3.1 3.5 5 6.6 6.6l2.2-2.2c.3-.3.7-.4 1.1-.3 1.2.4 2.5.6 3.9.6.6 0 1 .4 1 1V20c0 .6-.4 1-1 1C10.3 21 3 13.7 3 4c0-.6.4-1 1-1h3.4c.6 0 1 .4 1 1 0 1.3.2 2.6.6 3.9.1.4 0 .8-.3 1.1l-2.1 2.8z"/></svg>
        Call
      </a>

      <a class="sbtn maps-link" href="#" target="_blank" rel="noopener noreferrer" aria-label="Directions">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2c-3.9 0-7 3.1-7 7 0 5.3 7 13 7 13s7-7.7 7-13c0-3.9-3.1-7-7-7zm0 9.5c-1.4 0-2.5-1.1-2.5-2.5S10.6 6.5 12 6.5s2.5 1.1 2.5 2.5S13.4 11.5 12 11.5z"/></svg>
        Directions
      </a>

      <button class="sbtn secondary" id="shareBtn" type="button" aria-label="Share">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M18 16a3 3 0 0 0-2.4 1.2l-6.2-3.1c.1-.3.1-.7 0-1l6.2-3.1A3 3 0 1 0 14 7c0 .2 0 .4.1.6L7.9 10.7a3 3 0 1 0 0 2.6l6.2 3.1c-.1.2-.1.4-.1.6a3 3 0 1 0 3-3z"/></svg>
        Share
      </button>
    </div>
  </div>

  <!-- Lightbox modal -->
  <div class="lightbox" id="lightbox" aria-hidden="true" role="dialog" aria-label="Image preview">
    <button class="lb-close" id="lbClose" type="button" aria-label="Close">×</button>
    <figure class="lb-figure" role="document">
      <img id="lbImg" alt="" />
      <figcaption class="lb-cap" id="lbCap"></figcaption>
    </figure>
  </div>

  <!-- Consent banner (gates GA + Umami) -->
  <div class="consent" id="consent" aria-label="Cookie and analytics consent">
    <div class="consent-inner">
      <p class="consent-title">Analytics consent</p>
      <p class="consent-text">
        We use privacy-friendly analytics to understand usage and improve the page. You can accept or decline.
      </p>
      <div class="consent-actions">
        <button class="btn" id="consentAccept" type="button">Accept analytics</button>
        <button class="btn secondary" id="consentReject" type="button">Decline</button>
      </div>
    </div>
  </div>

  <script>
    /* ---------- Helpers ---------- */
    function $(sel){ return document.querySelector(sel); }
    function $all(sel){ return Array.from(document.querySelectorAll(sel)); }

    function toast(msg){
      const noteEl = $("#note");
      if (!noteEl) return;
      noteEl.textContent = msg;
      clearTimeout(window.__toastTimer);
      window.__toastTimer = setTimeout(() => { noteEl.textContent = ""; }, 1800);
    }

    /* ---------- Wire up constant URLs ---------- */
    (function(){
      const maps = window.UC_MAPS_URL;
      $all("a.maps-link").forEach(a => a.href = maps);
      $("#mapsFallback").href = maps;

      $("#orderNow").href = window.UC_ORDER_URL;
      $("#viewMenu").href = window.UC_MENU_URL;
      $("#linkMenu").href = window.UC_MENU_URL;
      $("#linkReview").href = window.UC_REVIEW_URL;
      $("#linkWebsite").href = window.UC_WEBSITE_URL;
      $("#btnLeaveReview").href = window.UC_REVIEW_URL;
      $("#btnReadReviews").href = window.UC_MAPS_URL; // reviews shown on Google listing
      $("#heroInsta").href = window.UC_INSTAGRAM_URL;

      $("#stickyCall").href = "tel:" + window.UC_PHONE_TEL;
      $("#callReserve").href = "tel:" + window.UC_PHONE_TEL;
    })();

    /* ---------- Better mobile Maps fallback (iOS/Android schemes) ---------- */
    (function initMapsFallback(){
      const fallbackEl = $("#mapsFallback");
      if (!fallbackEl) return;

      const lat = 51.5534915;
      const lng = -0.2925212;
      const q = encodeURIComponent("The Urban Chocolatier");
      const ua = navigator.userAgent || "";
      const isIOS = /iPhone|iPad|iPod/i.test(ua);
      const isAndroid = /Android/i.test(ua);

      // We keep the normal Google URL on all .maps-link anchors.
      // This extra link provides a scheme option that can open the native app in some in-app browsers.
      let scheme = window.UC_MAPS_URL;
      if (isIOS) scheme = "maps://?q=" + q + "&ll=" + lat + "," + lng;
      if (isAndroid) scheme = "geo:" + lat + "," + lng + "?q=" + lat + "," + lng + "(" + q + ")";

      fallbackEl.href = scheme;
    })();

    /* ---------- Open now / Closed + today's highlight ---------- */
    function toMins(hhmm){
      const [hh, mm] = hhmm.split(":").map(Number);
      return (hh * 60) + (mm || 0);
    }

    function getHoursForDay(dayIndex){
      const item = document.querySelector('.hours-item[data-day="' + dayIndex + '"]');
      if (!item) return null;
      return {
        open: item.getAttribute("data-open"),
        close: item.getAttribute("data-close"),
        label: item.querySelector(".time")?.textContent?.trim() || ""
      };
    }

    function isOpenNow(){
      const now = new Date();
      const day = now.getDay(); // 0 Sun
      const mins = now.getHours() * 60 + now.getMinutes();

      // Today
      const today = getHoursForDay(day);
      // Yesterday (for after-midnight closing)
      const yday = getHoursForDay((day + 6) % 7);

      function inWindow(openHHMM, closeHHMM, nowMins){
        const o = toMins(openHHMM);
        let c = toMins(closeHHMM);
        // crosses midnight
        if (c <= o) c += 1440;

        // check now in same frame, allow after midnight by adding 1440
        const n1 = nowMins;
        const n2 = nowMins + 1440;

        return (n1 >= o && n1 < c) || (n2 >= o && n2 < c);
      }

      // open today window
      if (today && inWindow(today.open, today.close, mins)) return { open: true, todayLabel: today.label };

      // open from yesterday after midnight window
      if (yday && toMins(yday.close) <= toMins(yday.open)) {
        // if yesterday closes after midnight, check
        if (inWindow(yday.open, yday.close, mins + 1440)) return { open: true, todayLabel: today ? today.label : "" };
      }

      return { open: false, todayLabel: today ? today.label : "" };
    }

    (function initStatusAndHours(){
      const list = $("#hoursList");
      const statusText = $("#statusText");
      const statusDot = $("#statusDot");
      const statusChip = $("#statusChip");

      if (list){
        const today = new Date().getDay();
        const item = list.querySelector('[data-day="' + today + '"]');
        if (item) item.classList.add("today");
      }

      const st = isOpenNow();
      if (statusText && statusDot){
        if (st.open){
          statusDot.classList.remove("closed");
          statusText.textContent = "Open now • Today: " + (st.todayLabel || "see hours");
        } else {
          statusDot.classList.add("closed");
          statusText.textContent = "Closed • Today: " + (st.todayLabel || "see hours");
        }
      }

      // Clicking status chip opens hours
      statusChip?.addEventListener("click", () => {
        const details = $("#hoursDetails");
        if (!details) return;
        details.open = true;
        details.scrollIntoView({ behavior: "smooth", block: "start" });
      });
    })();

    /* ---------- Popular buttons behaviour ---------- */
    (function initPopular(){
      // Link popular buttons to menu by default.
      // If you want these to open specific images instead, swap href + add js-lightbox.
      const menu = window.UC_MENU_URL;
      const ids = ["#popProf", "#popWaffles", "#popMilkshakes", "#popCrepes"];
      ids.forEach(id => {
        const el = $(id);
        if (el) {
          el.href = menu;
          el.target = "_blank";
          el.rel = "noopener noreferrer";
        }
      });
    })();

    /* ---------- Share / copy fallback ---------- */
    $("#shareBtn")?.addEventListener("click", async () => {
      const url = window.location.href;
      const title = "The Urban Chocolatier";

      try {
        if (navigator.share) {
          await navigator.share({ title, url });
          return;
        }
      } catch (e) {}

      try {
        await navigator.clipboard.writeText(url);
        toast("Link copied.");
      } catch (e) {
        toast("Copy failed — copy the URL from the address bar.");
      }
    });

    /* ---------- Lightbox ---------- */
    (function(){
      const lb = $("#lightbox");
      const lbImg = $("#lbImg");
      const lbCap = $("#lbCap");
      const lbClose = $("#lbClose");

      function openLightbox(src, caption){
        lbImg.src = src;
        lbImg.alt = caption || "Image";
        lbCap.textContent = caption || "";
        lb.classList.add("open");
        lb.setAttribute("aria-hidden", "false");
        document.documentElement.style.overflow = "hidden";
        document.body.classList.add("lb-open");
      }

      function closeLightbox(){
        lb.classList.remove("open");
        lb.setAttribute("aria-hidden", "true");
        document.documentElement.style.overflow = "";
        document.body.classList.remove("lb-open");
        lbImg.src = "";
        lbImg.alt = "";
        lbCap.textContent = "";
      }

      $all("a.js-lightbox").forEach(a => {
        a.addEventListener("click", (e) => {
          e.preventDefault();
          const src = a.getAttribute("href");
          const caption = a.querySelector("img")?.alt || "";
          openLightbox(src, caption);
        });
      });

      lbClose?.addEventListener("click", closeLightbox);
      lb?.addEventListener("click", (e) => { if (e.target === lb) closeLightbox(); });
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape" && lb?.classList.contains("open")) closeLightbox();
      });
    })();

    /* ---------- Sticky bar auto-hide on scroll down, show on scroll up ---------- */
    (function initStickyAutoHide(){
      const bar = $("#stickyBar");
      if (!bar) return;

      let lastY = window.scrollY || 0;
      let ticking = false;

      function onScroll(){
        const y = window.scrollY || 0;
        const delta = y - lastY;

        // Ignore tiny movement
        if (Math.abs(delta) < 8) return;

        if (delta > 0 && y > 120) {
          bar.classList.add("hidden");   // scrolling down
        } else {
          bar.classList.remove("hidden"); // scrolling up
        }
        lastY = y;
      }

      window.addEventListener("scroll", () => {
        if (!ticking){
          window.requestAnimationFrame(() => {
            onScroll();
            ticking = false;
          });
          ticking = true;
        }
      }, { passive: true });
    })();

    /* ---------- Consent: Gate GA + Umami ---------- */
    const CONSENT_KEY = "uc_analytics_consent"; // "yes" | "no"
    function getConsent(){ return localStorage.getItem(CONSENT_KEY); }
    function setConsent(v){ localStorage.setItem(CONSENT_KEY, v); }

    function loadScript(src, attrs){
      return new Promise((resolve, reject) => {
        const s = document.createElement("script");
        s.src = src;
        s.async = true;
        if (attrs){
          Object.entries(attrs).forEach(([k,v]) => s.setAttribute(k, v));
        }
        s.onload = () => resolve(true);
        s.onerror = () => reject(false);
        document.head.appendChild(s);
      });
    }

    async function enableAnalytics(){
      // Google Analytics (GA4)
      await loadScript("https://www.googletagmanager.com/gtag/js?id=G-ZLHM2P3C7F");
      window.dataLayer = window.dataLayer || [];
      window.gtag = function(){ window.dataLayer.push(arguments); };
      window.gtag("js", new Date());
      window.gtag("config", "G-ZLHM2P3C7F", { anonymize_ip: true });

      // Umami
      await loadScript("https://cloud.umami.is/script.js", { "data-website-id": "bd86632a-3799-40d4-988d-02c0fde2ea1a", defer: "" });
    }

    (function initConsent(){
      const consent = getConsent();
      const banner = $("#consent");
      const accept = $("#consentAccept");
      const reject = $("#consentReject");

      async function acceptNow(){
        setConsent("yes");
        banner.classList.remove("show");
        try { await enableAnalytics(); } catch(e) {}
      }
      function rejectNow(){
        setConsent("no");
        banner.classList.remove("show");
      }

      accept?.addEventListener("click", acceptNow);
      reject?.addEventListener("click", rejectNow);

      if (consent === "yes") {
        enableAnalytics().catch(() => {});
        return;
      }
      if (consent === "no") return;

      // Not decided yet
      banner.classList.add("show");
    })();
  </script>
</body>
</html>
